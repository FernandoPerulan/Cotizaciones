name: Actualizar Google Sheet

on:
  workflow_dispatch:

jobs:
  update_sheet:
    runs-on: ubuntu-latest

    steps:
    - name: Clonar el repositorio
      uses: actions/checkout@v4

    - name: Instalar dependencias
      run: pip install gspread oauth2client

    - name: Crear archivo de credenciales
      run: |
        echo "$GSHEET_CREDENTIALS_JSON" > credentials.json
      env:
        GSHEET_CREDENTIALS_JSON: ${{ secrets.GSHEET_CREDENTIALS_JSON }}

    - name: Mostrar contenido credentials.json
      run: cat credentials.json

    - name: Ejecutar script
      run: python main.py

